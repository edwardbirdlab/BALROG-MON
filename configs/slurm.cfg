/* Docker options */
docker.enabled = true
docker.runOptions = '-u \$(id -u):\$(id -g)'




process {
   
    executor 'slurm'
    errorStrategy = 'terminate'

    withLabel: smallmem {   
        cpus = '16'
        memory = '16G'
        time = '8h'
    }

     withLabel: medmem {   
        cpus = '16'
        memory = '128G'
        time = '24h'
    }

     withLabel: bigmem {   
        cpus = '16'
        memory = '384G'
        time = '4h'
    }

     withLabel: small {   
        cpus = '2'
        memory = '8G'
        time = '12h'
    }

    withName: spades_plasmid { 
        errorStrategy = 'retry'
        maxRetries = 2
        errorStrategy { task.attempt <= 2 ? 'retry' : 'ignore' }
    }